{% extends "base.html" %} {% block title %}Register | MakersBnB{% endblock %} {%
block content %}
<div class="flex items-center justify-center h-[calc(100vh-76px)]">
    <div class="flex flex-col items-center translate-y-[calc(-76px/2)]">
        <div class="card w-100 mt-16 shadow-2xl rounded-2xl">
            <header>
                <h2>Register your account</h2>
                <p>Enter your details below to register to MakersBnB</p>
            </header>
            <section>

                <form class="form grid gap-6" action="/register" method="POST">
                    <div class="grid gap-2">
                        <label for="name">Name</label>

                        <input
                            type="text"
                            id="name"
                            name="name"
                            value="{{ name or '' }}"
                            required
                        />
                    </div>
                    <div class="grid gap-2">
                        <label for="email">Email</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            value="{{ email or '' }}"
                            required
                        />
                    </div>
                    <div class="grid gap-2">
                        <div class="flex items-center gap-2">
                            <label for="password">Password</label>
                        </div>
                        <input
                            type="password"
                            id="password"
                            name="password"
                            required
                        />
                    </div>
                    <div class="grid gap-2">
                        <div class="flex items-center justify-between gap-2">
                            <label for="confirm_password">Confirm Password</label>

                            <span id="password_message" class="text-sm"></span>
                        </div>
                        <input
                            type="password"
                            id="confirm_password"
                            name="confirm_password"
                            required
                        />
                    </div>
                    <div class="flex flex-col gap-2">
                        <button type="submit" id="submit_button" class="btn w-full">
                            Create Account
                        </button>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>

<script>
    const password = document.getElementById('password');
    const confirm_password = document.getElementById('confirm_password');
    const message = document.getElementById('password_message');
    const submitButton = document.getElementById('submit_button');

    function checkPasswords() {
        if (password.value === '' && confirm_password.value === '') {
            message.textContent = '';
            submitButton.disabled = false;
            return;
        }

        if (password.value === confirm_password.value) {
            message.textContent = 'Passwords match!';
            message.className = 'text-sm text-green-500';
            submitButton.disabled = false;
        } else {
            message.textContent = 'Passwords do not match.';
            message.className = 'text-sm text-red-500';
            submitButton.disabled = true;
        }
    }


    confirm_password.addEventListener('input', checkPasswords);


    checkPasswords();
</script>

{% endblock %}